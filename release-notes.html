<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Release Notes | Okera User Documentation</title>
<link rel="stylesheet" href="theme/css/syntax.css">
<link rel="icon" type="image/png" href="/assets/images/icon-favicon32.png">

<script src="https://use.fontawesome.com/d9343c4626.js"></script>

<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="theme/css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
  crossorigin="anonymous">
<!-- Old Algolia Instant Search -->
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css"> -->
<!-- End Old Algolia Instant Search -->
<link rel="stylesheet" href="theme/css/asciidoctor.css">
<link rel="stylesheet" href="theme/css/custom.css">
<link rel="stylesheet" href="theme/css/boxshadowproperties.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="theme/js/jquery.navgoco.min.js"></script>

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
  crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="theme/js/toc.js"></script>
<script src="theme/js/customscripts.js"></script>

<!-- Old Algolia Instant Search -->
<!-- <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.js"></script> -->
<!-- End Old Algolia Instant Search -->

<!-- Include AlgoliaSearch JS Client and autocomplete.js library -->
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js"></script>

<script>
  $(document).ready(function () {
    $("blockquote:contains('Note')").addClass("admonitionblock note");
    $("blockquote:contains('Warning')").addClass("admonitionblock warning");
    $("blockquote:contains('Tip')").addClass("admonitionblock tip");
    $(".admonitionblock.note").prepend('<i class="fa fa-check admonition"></i>');
    $(".admonitionblock.warning").prepend('<i class="fa fa-exclamation-triangle admonition"></i>');
    $(".admonitionblock.tip").prepend('<i class="fa fa-lightbulb-o admonition"></i>');
  });
</script>


<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">

        <div class="row">
            <div class="col-sm-4 col-md-3">

                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <div class="navbar-wordmark">
                        <a href="/">
                            <img src="assets/images/okera-wordmark-white.svg" alt="Okera wordmark" />
                        </a>
                    </div>
                </div>

                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

                    <ul class="nav navbar-nav">
                        <!-- toggle sidebar button -->
                        <!-- <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li> -->
                        <!-- entries without drop-downs appear here -->

                            
                        <li>
                            <a href="https://okera.com" target="_blank">okera.com</a>
                        </li>
                          
                        <!-- entries with drop-downs appear here -->
                        <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                         
                    </ul>
                </div>
            </div>
            <form class="aa-input-container navbar-form" id="aa-input-container" role="search">
                <div class="form-group">
                    <input id="aa-search-input" type="text" class="aa-input-search form-control" placeholder="Search"
                        autocomplete="off">
                </div>
            </form>
        </div>
        <!-- Algolia Integrated search Script -->
        <script type="text/javascript" src="theme/js/okera-integrated-search.js"></script>
        <!-- comment out this block if you want to hide jekyll search
                  <div class="navbar-form" id="search-demo-container">
                      <form action="/search" method="GET">
                      <input type="text" name="q" id="search-input" placeholder="Search the docs...">
                      </form>
                  </div>
                end search -->
    </div>
</nav>
<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                


<ul id="mysidebar" class="nav affix">
  <li class="sidebarTitle"> </li>
  
  
  
  <li>
      <a href="#">Introduction to Okera</a>
      <ul>
          
          
          
          <li><a href="product-overview">Product Overview</a> </li>
          
          
          
          
          
          
          <li><a href="odas-overview">Okera Data Access Service Overview</a> </li>
          
          
          
          
          
          
          <li><a href="catalog-overview">Okera Catalog Overview</a> </li>
          
          
          
          
          
          
          <li><a href="okera-architecture-overview">Platform Architecture Overview</a> </li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Installing the Deployment Manager</a>
      <ul>
          
          
          
          <li><a href="getting-started">Getting Started</a> </li>
          
          
          
          
          
          
          <li><a href="install">Installing the Deployment Manager</a> </li>
          
          
          
          
          
          
          <li><a href="install-prereqs">Okera Installation Prerequisites</a> </li>
          
          
          
          
          
          
          <li><a href="install-dm">Setting Up the Deployment Manager</a> </li>
          
          
          
          
          
          
          <li><a href="install-odas">Setting Up the ODAS Cluster</a> </li>
          
          
          
          
          
          
          <li><a href="advanced-install">Advanced Installation Options</a> </li>
          
          
          
          
          
          
          <li><a href="odas-authentication">Authentication Guide</a> </li>
          
          
          
          
          
          
          <li><a href="kerberos-cluster-setup">Kerberos</a> </li>
          
          
          
          
          
          
          <li><a href="secure-okera-rest-api-ldap">LDAP Authentication</a> </li>
          
          
          
          
          
          
          <li><a href="secure-okera-rest-api-oauth">OAuth Authentication</a> </li>
          
          
          
          
          
          
          <li><a href="secure-deployment-manager-rest-api">Deployment Manager REST Security</a> </li>
          
          
          
          
          
          
          <li><a href="support-versions">Versions</a> </li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Administering ODAS Clusters</a>
      <ul>
          
          
          
          <li><a href="cluster-administration">Cluster Administration</a> </li>
          
          
          
          
          
          
          <li><a href="cluster-types">Cluster Types</a> </li>
          
          
          
          
          
          
          <li><a href="cluster-sizing">Cluster Sizing</a> </li>
          
          
          
          
          
          
          <li><a href="memory-usage">Platform Memory Usage</a> </li>
          
          
          
          
          
          
          <li><a href="ip-address-management">IP Address Management</a> </li>
          
          
          
          
          
          
          <li><a href="kubernetes-dashboard-quickstart">Cluster Monitoring with Kubernetes Addons</a> </li>
          
          
          
          
          
          
          <li><a href="cluster-launch-plugin-api">Cluster Launch API</a> </li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Using the Catalog</a>
      <ul>
          
          
          
          <li><a href="authorization">Role-based Access Control</a> </li>
          
          
          
          
          
          
          <li><a href="privileges">Privileges</a> </li>
          
          
          
          
          
          
          <li><a href="schema-design">Schema Design</a> </li>
          
          
          
          
          
          
          <li><a href="authorization-builtins">Authorization Builtin Functions</a> </li>
          
          
          
          
          
          
          <li><a href="auditing">Auditing</a> </li>
          
          
          
          
          
          
          <li><a href="okera-database-cli">Database CLI</a> </li>
          
          
          
          
          
          
          <li><a href="supported-sql">Supported SQL</a> </li>
          
          
          
          
          
          
          <li><a href="jdbc-data-source">JDBC Data Source</a> </li>
          
          
          
          
          
          
          <li><a href="data-types">Supported Data Types</a> </li>
          
          
          
          
          
          
          <li><a href="complex-types">Complex Data Types</a> </li>
          
          
          
          
          
          
          <li><a href="extending-odas">Extending ODAS</a> </li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Using the Web UI</a>
      <ul>
          
          
          
          <li><a href="web-ui-basics">Okera Portal Basics</a> </li>
          
          
          
          
          
          
          <li><a href="datasets-page">Datasets Page</a> </li>
          
          
          
          
          
          
          <li><a href="permissions-page">Permissions Page</a> </li>
          
          
          
          
          
          
          <li><a href="reports-page">Reports Page</a> </li>
          
          
          
          
          
          
          <li><a href="web-ui-admin">Okera Portal for Admins</a> </li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Integrating with ODAS</a>
      <ul>
          
          
          
          <li><a href="catalog-rest-api">REST API</a> </li>
          
          
          
          
          
          
          <li><a href="client-configs">Client Configuration</a> </li>
          
          
          
          
          
          
          <li><a href="hive-best-practices">Hive Integration - Best Practices</a> </li>
          
          
          
          
          
          
          <li><a href="emr-integration">EMR Integration</a> </li>
          
          
          
          
          
          
          <li><a href="pyokera">Native Python Integration</a> </li>
          
          
          
          
          
          
          <li><a href="client-integration">Client Integration</a> </li>
          
          
          
          
          
          
          <li><a href="planner-integration">Planner Integration</a> </li>
          
          
          
          
          
          
          <li><a href="third-party-integration">Third-Party Integration</a> </li>
          
          
          
          
          
          
          <li><a href="odas-cdh-integration">CDH Integration</a> </li>
          
          
          
          
          
          
          <li><a href="tableau-web-data-connector">Tableau Integration</a> </li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Reference</a>
      <ul>
          
          
          
          <li class="active"><a href="release-notes">Release Notes</a></li>
          
          
          
          
          
          
          <li><a href="earlier-release-notes">Earlier Release Notes</a> </li>
          
          
          
          
          
          
          <li><a href="service-port-assignments">Service Ports</a> </li>
          
          
          
          
          
          
          <li><a href="s3-encryption-support">Supported S3 Encryption Types</a> </li>
          
          
          
          
          
          
          <li><a href="compatibility-guarantees">Compatibility Guarantees</a> </li>
          
          
          
          
          
          
          <li><a href="quick-recipes">Quick Recipes</a> </li>
          
          
          
          
          
          
          <li><a href="https://okera.zendesk.com/hc/en-us/categories/115000493607-FAQs" target="_blank">Frequently Asked Questions</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
        -->
    
    <li>
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2', title: 'On This Page' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 80);
  return false
})

});
</script>

<div id="toc"></div>

    </li>
    

</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            

<div class="post-content">

   

    


    

  <h1 id="release-notes">Release Notes</h1>

<h2 id="123-november-2018---in-development">1.2.3 (November 2018 - In Development)</h2>

<p>1.2.3 is a point release with some fixes to critical issues.</p>

<h2 id="bug-fixes">Bug Fixes</h2>

<ul>
  <li>
    <p>Fix web UI’s ‘Preview Dataset’ by removing its reliance on LAST PARTITION, which
was not working for views.</p>
  </li>
  <li>
    <p>Fix web UI’s ‘Preview Dataset’ by making scans with record limits much faster
for partitioned datasets, significantly reducing the likelihood of timeouts.
In the event of a timeout, a more accurate error message is now shown.</p>
  </li>
  <li>
    <p>Significantly improve the performance of the web UI’s Dataset List when the total
number of datasets is large (1000+).</p>
  </li>
  <li>
    <p>The machines in the ODAS cluster will now install Java 8 if Java is not already installed.
ODAS has always required Java 8 but some newer linux distros have updated the default java version to java 11, which is not compatible.
This version is now properly pinned to Java 8.</p>
  </li>
  <li>
    <p>ODAS clusters will by default start up with multiple planners.
This previously could be optionally specified when creating the cluster but defaulted to a single planner.
As part of this change, a client now has sticky sessions meaning clients will be pinned to a planner for some duration, allowing APIs such as scan_paged to work correctly.</p>
  </li>
  <li>
    <p>Fixed issue with idle session expiry.
Previously some idle sessions were not tracked correctly and did not expire as promptly as expected.</p>
  </li>
  <li>
    <p>Fixed client side issue scanning some complex schemas with a particular combination of nested structs.</p>
  </li>
</ul>

<h2 id="122-october-2018">1.2.2 (October 2018)</h2>

<p>1.2.2 is a point release with some fixes to critical issues.</p>

<h2 id="bug-fixes-1">Bug Fixes</h2>

<ul>
  <li>
    <p>Fixed ‘ocadm agent start-minion’ to aid in manual cluster repair</p>
  </li>
  <li>
    <p>Properly return an error message for queries that contain a LEFT ANTI JOIN</p>
  </li>
  <li>
    <p>Idle sessions now timeout by default with a timeout of 120 seconds.
A session is considered idle if the client did not make any request in that time window.
This config can be controlled via the planner or workers idle_session_timeout config.</p>
  </li>
  <li>
    <p>A fix to optimize processing of datasets with large numbers of partitions.</p>
  </li>
  <li>
    <p>JDBC data source scans can now be run in parallel.
The JDBC type table should have a valid numeric column type ‘mapred.jdbc.scan.key’ defined in the catalog tblproperties to enable this mode.</p>
  </li>
  <li>
    <p>Fix web UI’s ‘Preview Dataset’ so that it relies on LAST PARTITION</p>
  </li>
</ul>

<h2 id="121-september-2018">1.2.1 (September 2018)</h2>

<p>1.2.1 is a point release with some fixes to critical issues.</p>

<h3 id="bug-fixes-2">Bug fixes</h3>

<ul>
  <li>
    <p>Fixed a critical issue with scanning nested collections.</p>
  </li>
  <li>
    <p>Added support for AVRO schema files specified using an HTTPS URI.</p>
  </li>
  <li>
    <p>Fixed some error handling in PyOkera.</p>
  </li>
  <li>
    <p>Increased the default connection limit to 512.</p>
  </li>
</ul>

<h2 id="120-september-2018">1.2.0 (September 2018)</h2>

<p>1.2.0 is the next major Okera release with significant new functionality and improvements throughout the platform.</p>

<h3 id="major-features">Major Features</h3>

<h4 id="data-usage-and-reporting">Data usage and reporting</h4>

<p>Using the Okera Portal, users can now understand how the datasets in the system are being used.
This can be useful for system administrators and data owners to understand which datasets are being used most often, by whom and with which applications.
The reporting insights are built on the audits and automatically capture system activity.
For more details, see <a href="reports-page">here</a>.</p>

<h4 id="support-for-data-sources-using-jdbc">Support for data sources using JDBC</h4>

<p>Okera Data Access Platform (ODAS) now supports data sources connected via JDBC, typically relational data bases.
These datasets can now be registered in the Okera Catalog and then read and managed as any other Okera dataset.
For more details on how to register and configure these sources, see <a href="jdbc-data-source">here</a>.</p>

<h4 id="improved-access-level-granularity">Improved access level granularity</h4>

<p>ODAS now supports richer access levels, in addition to <code class="highlighter-rouge">SELECT</code> and <code class="highlighter-rouge">ALL</code>.
It is now possible to, for example, grant users only the ability to find and look at metadata, only to alter dataset properties.
We’ve also added the concept of <code class="highlighter-rouge">public role</code>, which can simplify permission management.
For details and best practices, see <a href="authorization">here</a>.</p>

<h4 id="access-control-builtins">Access Control Builtins</h4>

<p>ODAS now supports a family of access control builtins.
These are intended to be used in view definitions and can dramatically simplify implementing fine grained access control.
See this <a href="authorization-builtins">document</a> for more details.</p>

<h4 id="improvements-to-last-sql-clause">Improvements to LAST SQL clause</h4>

<p>ODAS supports the <code class="highlighter-rouge">LAST PARTITION</code> clause to facilitate sampling large datasets.
In this release, this support was extended to support <code class="highlighter-rouge">LAST N PARTITIONS</code> and <code class="highlighter-rouge">LAST N FILES</code>.
In addition, it is now possible to set this as metadata on the catalog object, to prevent queries trying to read all partitions.
See <a href="supported-sql#last-partitionslast-files">here</a> for best practices.</p>

<h4 id="improvements-to-workspace">Improvements to Workspace</h4>

<p>Workspace can now run multiple queries at once and supports monospace format outputs and datetime queries.</p>

<h4 id="pyokera">PyOkera</h4>

<ul>
  <li>
    <p>PyCerebro has been renamed PyOkera.
The API is effectively unchanged except that now instead of importing ‘from cerebro’ you will need to import ‘from okera’.</p>
  </li>
  <li>
    <p>Parallel Execution of Tasks.
PyOkera will now schedule and execute worker tasks in parallel to minimize network latency.
The scan_as_pandas() and scan_as_json() API calls will by default spawn worker processes to concurrently execute tasks where possible.
The default number of local worker processes is defined as 2 times the number of CPU Cores on the machine on which it is being processed.
This has demonstrated a reduction in run-time duration for queries by minimizing the network latency involved with establishing network connections with the Okera Worker Nodes.</p>
  </li>
</ul>

<h4 id="performance">Performance</h4>

<ul>
  <li>
    <p>Improved planner task generation.
One of the responsibilities of the planner is to break up the files that need to be read into tasks.
In this release, we’ve implemented a new cost-based algorithm which should result in tasks that are more even.
This should lead to less execution skew across tasks and overall reduction in job completion times.</p>
  </li>
  <li>
    <p>Improved planning time for queries on tables with large number of partitions.
The planner now loads metadata more lazily, deferring as much as possible to after partitioning pruning.
This can result in significantly better latency for queries that scan only a few partitions of a heavily partitioned table.</p>
  </li>
  <li>
    <p>Improved expression handling in the planner.
The planner will fold constant expressions trees and reorder expressions.
Queries that push complex expressions to ODAS should see improvements.</p>
  </li>
  <li>
    <p>Dramatically improved planner and worker RPC handling.
Server side RPC handling is much more robust to slow clients or if there are transient slowdowns in dependent authentication services.</p>
  </li>
  <li>
    <p>Worker fetch rpc now does keep alive for clients, eliminating the need to set high client RPC timeouts.
Users previously worked around this by setting a very high value for <code class="highlighter-rouge">recordservice.worker.rpc.timeoutMs</code>.</p>
  </li>
  <li>
    <p>Support for caching authenticated JWT tokens and increasing the timeout.
See <a href="advanced-install#jwt">advanced install</a> for more details.</p>
  </li>
</ul>

<h4 id="other-improvements">Other improvements</h4>

<ul>
  <li>
    <p>Added support for <code class="highlighter-rouge">ALTER DATABASE &lt;db_name&gt; SET DBPROPERTIES</code></p>
  </li>
  <li>
    <p>Added support for ‘ALTER TABLE <tbl_name> RENAME TO <tbl_new_name>' in hive.</tbl_new_name></tbl_name></p>
  </li>
  <li>
    <p>EMR support included through EMR 5.16.0</p>
  </li>
  <li>
    <p>Support for MySQL 5.7 as the backing database for the Okera catalog.</p>
  </li>
  <li>
    <p>Support Avro <code class="highlighter-rouge">bytes</code> data type. This is treated by ODAS as <code class="highlighter-rouge">STRING</code></p>
  </li>
  <li>
    <p><code class="highlighter-rouge">EXPLAIN</code> is now supported as a DDL command and can be run via <code class="highlighter-rouge">odb</code> or from the the web portal.</p>
  </li>
  <li>
    <p>Support for the <code class="highlighter-rouge">UNION ALL</code> operator. Note that <code class="highlighter-rouge">UNION DISTINCT</code> is not supported.</p>
  </li>
  <li>
    <p>Updated Kubernetes to 1.10.4 and the Kubernetes dashboard to 1.8.3.</p>
  </li>
  <li>
    <p>Users can now user the keyword <code class="highlighter-rouge">CATALOG</code> as an alias to <code class="highlighter-rouge">SERVER</code> to grant access to the entire catalog.
For example, <code class="highlighter-rouge">GRANT SHOW ON CATALOG TO ROLE common_role</code> would enable metadata browsing of the entire catalog.</p>
  </li>
  <li>
    <p>(Beta) DeploymentManager now supports deploying ODAS clusters on externally managed Kubernetes clusters.
In this case, the DeploymentManager just deploys ODAS services without managing machines or the Kubernetes <a href="advanced-install#external-kubernetes-cluster">install</a>.</p>
  </li>
  <li>
    <p>The Okera portal can now store token credentials using cookies, allowing users to share credentials across web applications.
-See <a href="install-dm#shared-cookie-configuration">here</a> for configuration details.</p>
  </li>
  <li>
    <p>Added support for naming the sentryDB when creating a cluster.
The name can be specified with the “–sentryDbName” flag when using <code class="highlighter-rouge">ocadm</code>.</p>
  </li>
  <li>
    <p>Partitioned tables can now have their partitions automatically recovered.
See the <a href="faq#auto-partition-recovery">faq</a> for more details.</p>
  </li>
  <li>
    <p>Diagnostic Bundler now captures network route and firewall details</p>
  </li>
  <li>
    <p>Support for <code class="highlighter-rouge">IF NOT EXISTS</code> in <code class="highlighter-rouge">CREATE ROLE</code> and <code class="highlighter-rouge">SHOW ROLES LIKE</code> SQL statements.</p>
  </li>
</ul>

<h4 id="changes-in-behavior">Changes in behavior</h4>

<ul>
  <li>
    <p>View usage for Python now uses the <code class="highlighter-rouge">pyokera</code> client instead of the REST API.</p>
  </li>
  <li>
    <p>Okera views now inherit stats from the base tables and views the view is created from.
These can be overwritten using ALTER TABLE but will provide better behavior for the vast majority of use cases.</p>
  </li>
  <li>
    <p>Okera portal no longer estimates the total number of datasets as this can cause performance issues with very large catalogs.</p>
  </li>
  <li>
    <p>Workspace will no longer render more than 500 rows per query.</p>
  </li>
  <li>
    <p>Workspace terminal will drop older queries if the terminal output exceeds more than 750 rows of queries in total.
This will improve workspace rendering speeds.</p>
  </li>
  <li>
    <p>Post_scan request now utilizes the <code class="highlighter-rouge">pyokera</code> client.</p>
  </li>
</ul>

<h3 id="bug-fixes-3">Bug fixes</h3>

<ul>
  <li>
    <p>Improved error handling for invalid data metadata, for example, an Avro schema path that is no longer valid</p>
  </li>
  <li>
    <p>When using field name schema resolution for parquet files, the field comparison is now case insensitive.
This matches the behavior from the Apache Parquet Java implementation (parquet-mr).</p>
  </li>
  <li>
    <p>The <code class="highlighter-rouge">double</code> datatypes now returns as many digits as possible when scanned via the REST API.
Previously, this would round or return scientific notation for some range of values.</p>
  </li>
  <li>
    <p>Allow revoking URIs to non-existent (typically deleted) S3 buckets.
This would previously error out.</p>
  </li>
  <li>
    <p>Fix issues with creating <code class="highlighter-rouge">SELECT *</code> views in some cases.
Previously, in same cases, this could fail if layers of views are used.</p>
  </li>
  <li>
    <p>Table property, ‘skip.header.line.count’, is now properly respected.</p>
  </li>
</ul>

<h3 id="incompatible-and-breaking-changes">Incompatible and Breaking Changes</h3>

<ul>
  <li>Deprecated the CEREBRO_INSTALL_DIR and DEPLOYMENT_MANAGER_INSTALL_DIR environment variables. OKERA_INSTALL_DIR should be used.</li>
</ul>

<h3 id="known-issues">Known issues</h3>

<ul>
  <li>Partitioned tables where the user only has <code class="highlighter-rouge">SHOW</code> access will mistakenly show the user as having access to the partitions columns in the UI.
The UI properly shows that the other columns are inaccessible.
-* While multiple ODAS clusters can be configured to share their HMS and Sentry databases, datasets created by a 1.2.0 ODAS cluster cannot be read by ODAS clusters running earlier versions (1.1.x or earlier).</li>
</ul>

<h2 id="110-june-2018">1.1.0 (june 2018)</h2>

<p>The 1.1.0 introduces two major items but no significant alterations to existing features or functionality.
It includes all of the fixes from 1.0.1.</p>

<h3 id="support-for-array-and-map-collection-data-types">Support for Array and Map collection data types</h3>

<p>This completes the complex types support started in 0.9.0, when the struct type was introduced.
This release adds support for Arrays and Maps.
As with struct support, only data stored in Avro or Parquet is supported.
See the <a href="complex-types">docs</a> for more details.</p>

<h3 id="migration-from-company-rename">Migration from company rename</h3>

<p>In 1.0.0, we renamed the product but maintained backwards compatibility.
For example, system paths that contained the product or company name were not changed.
In 1.1.0, we have completely the product renaming and users upgrading will need to migrate.
See the migration <a href="migration">guide</a> for details on the changes and their implications.</p>

<h3 id="incompatible-and-breaking-changes-1">Incompatible and Breaking Changes</h3>

<ul>
  <li>
    <p>AWS AutoScalingGroup launch scripts (the parameter passed to the <code class="highlighter-rouge">--clusterLaunchScript</code> flag
 when creating an ODAS environment) should accept the <code class="highlighter-rouge">--numHosts</code> parameter. This is a breaking
change from 1.0.0 when the flag was introduced as <code class="highlighter-rouge">--hosts</code>.</p>
  </li>
  <li>
    <p>Okera Portal (UI) Workspace page no longer accepts queries in the URL. Bookmarks and
links from previous versions that included a query will still go to the page,
but query arguments will not populate the input box.</p>
  </li>
  <li>
    <p>Pyokera (fka Pycerebro) no longer returns a byte array to represent strings from calls to
<code class="highlighter-rouge">scan_as_json</code>. Instead, it returns a UTF-8 encoded Python string, which is
automatically serializable to JSON.</p>
  </li>
</ul>

<h3 id="known-issues-1">Known issues</h3>
<ul>
  <li>Support for AWS AutoScalingGroups (ASGs) is in beta and not recommended for production use.
There may be issues scaling an ASG cluster down, depending on which EC2 VM is terminated.</li>
</ul>

<h2 id="101-may-2018">1.0.1 (may 2018)</h2>

<p>1.0.1 is a patch release that fixes some critical issues in 1.0.0.
We recommend all 1.0.0 users switch to this version for both the server and java client libraries.
The java client library for this release is also 1.0.1.</p>

<h3 id="fixes">Fixes</h3>

<ul>
  <li>
    <p>Fix issue health checking planner and workers with kerberos enabled.
The health checks were failing continuously causing the cluster stability issues.</p>
  </li>
  <li>
    <p>Fix to diagnostic bundler when some of the collected log files are either very big or corrupt.
In some cases, log files on the host OS in <code class="highlighter-rouge">/var/log</code> could be corrupt or very large.
This used to cause the bundle to fail and now they are skipped with the issue logged.</p>
  </li>
  <li>
    <p>Fix issue when dropping favorited datasets in the UI.
In some cases, looking at favorited datasets that don’t exist anymore or are no longer accessible were displayed incorrectly.</p>
  </li>
  <li>
    <p>Enable small row-group optimizable when reading parquet.
Parquet files with small row groups had very poor performance in some cases, particularly if the table had many columns.
The implementation for how these kind of files are read has been changed to handle this case better.</p>
  </li>
  <li>
    <p>Fix some queries when scanning partitioned tables from hive with filters.
Some queries using filters on partitioned tables would result in the client library generated an invalid planner request.
This issue was specific to some very particular hive queries but has been resolved in this version.</p>
  </li>
</ul>

<h2 id="100-may-2018">1.0.0 (may 2018)</h2>

<p>The 1.0.0 release is a major version, introducing significant new functionality and improvements across the platform.</p>

<h3 id="name-change-notice">Name Change Notice</h3>

<p>With the 1.0.0 generally available (GA) release, our company and product name changes as well.
Cerebro Data, Inc is now <strong>Okera, Inc</strong>, and the Cerebro Data Access Platform is now the <strong>Okera Active Data Access Platform</strong>.
Component names have mostly been updated, and documentation should reflect the current state of all component names.
In this release, we have maintained backwards compatibility and existing automation will continue to work.
The binary paths continue to use the Cerebro name.</p>

<h3 id="deprecations-notice">Deprecations Notice</h3>

<ul>
  <li>Environment variables that begin with <code class="highlighter-rouge">CEREBRO_</code> will continue to be supported only until version 1.2.0 is released.
For standard environment variables established during installation, <code class="highlighter-rouge">CEREBRO</code> will alias <code class="highlighter-rouge">OKERA</code>.</li>
</ul>

<h3 id="upgrading-from-prior-versions">Upgrading from prior versions</h3>

<p>It is not possible to upgrade an existing ODAS cluster to 1.0.0 (i.e. <code class="highlighter-rouge">ocadm clusters upgrade</code> will not work).
Instead, a new ODAS cluster must be created.
Note that this is only the ODAS cluster itself, the catalog metadata from older clusters can be read with no issues.</p>

<h3 id="diagnosability-and-monitoring">Diagnosability and Monitoring</h3>

<ul>
  <li>
    <p>Support for collecting logs across all services and machines for diagnostics. This
bundle can be sent to Okera or used by users to improve the troubleshooting experience.
Cluster administrators can use the CLI to generate this support bundle across cluster
services with one command. For more details see <a href="cluster-administration#cluster-diagnosis">here</a>.</p>
  </li>
  <li>
    <p>Support for Kubernetes dashboard and Grafana for UI based administration and monitoring.
ODAS now installs and enables the Kubernetes, which helps cluster admins manage a ODAS
cluster (such as restarting a service, inspecting configs, etc) and Grafana to look at
metrics across the cluster (cpu usage, memory usage, etc). These can now be optionally
enabled at cluster creation time. More details see <a href="kubernetes-dashboard-quickstart">here</a>.</p>
  </li>
</ul>

<h3 id="robustness-and-stability">Robustness and Stability</h3>

<ul>
  <li>
    <p>Resolved issue where occasionally multiple workers can be assigned to the same VM, causing load skew and cluster membership issues.</p>
  </li>
  <li>
    <p>Improved healthchecking to be able to detect service availability, triggering repair of individual containers more reliably.
The healthcheck now more closely emulates what a client would do.
If the healthcheck detects an issue, the individual container is restarted.</p>
  </li>
  <li>
    <p>Beta support for Amazon Web Services Auto Scaling Groups (ASG). Users can now provide
an ASG launch script instead of the instance launch script and the ODAS cluster will
be built using the ASG. This should improve cluster launch times at scale, make it
easier to manage the VMs (a single ODAS cluster is one ASG) as well as handle node
failures. When the ASG relaunches a machine for the failed nodes, the Deployment Manager
will automatically detect this, remove the failed nodes and add the new ones. See <a href="cluster-launch-plugin-api#cluster-launch-script">here</a>.</p>
  </li>
</ul>

<h3 id="docs">Docs</h3>

<p>In this release, the product documentation has been significantly improved.
Search is now supported throughout the documentation.
Content has been added to cover FAQs, product overview and many other topics.</p>

<h3 id="ui-improvements">UI improvements</h3>

<ul>
  <li>
    <p>Workspace is now enabled for admin users. The workspace provides an easy interface for
data producers and data stewards to issue DDL and metadata queries against the system,
without the need to use another tool. Workspace provides basic query capabilities but is
not intended to be used for analytics. Features include: scan queries, DDL queries, and
query history.</p>
  </li>
  <li>
    <p>Permissions page has been added to help users understand how permissions have been
configured. For data stewards, it provides the ability to look up which users have been
granted access and how. For data consumers, it allows him or her to lookup the information
to acquire access to more datasets.</p>
  </li>
  <li>
    <p>Users can now tag and favorite datasets to be able to easily work with them again in
the future. These tags and favorites are currently unique per user.</p>
  </li>
  <li>
    <p>Performance and scale improvements. The UI scales much better with larger catalogs.</p>
  </li>
</ul>

<h3 id="performance-and-scalability">Performance and scalability</h3>

<ul>
  <li>
    <p>Significant performance improvements for metadata operations on large catalogs.
Numerous improvements were made to the responsiveness of metadata operations (DDL) against
large catalogs and tables with large number of partitions. This includes operations such
as <code class="highlighter-rouge">show partitions</code> and <code class="highlighter-rouge">show tables</code> as well as the planning phase at the start of
each scan request.</p>
  </li>
  <li>
    <p>Improvements to task generation in the planner. The planner is responsible for
generating tasks run by the workers. The tasks generated by the planner should now be
more even across more cases - for example, skew in partition sizes, data file sizes, etc.</p>
  </li>
  <li>
    <p>Improvements to worker scalability with high concurrency. The workers are now more
efficient under high concurrency (200+ clients per worker).</p>
  </li>
  <li>
    <p>Better batch size handling in workers. Workers produce results in batches which are
returned to the client. Improvements were made to manage the batch size and memory usage
better across a wider range of schemas.</p>
  </li>
  <li>
    <p>The default replication factor of some of the services (e.g. odas-rest-server) has been increased to improve fault tolerance and scalability.</p>
  </li>
</ul>

<h3 id="emr-integration-improvements">EMR integration improvements</h3>

<ul>
  <li>
    <p>Spark: SparkSQL can be run directly against tables in the catalog with no need to create a temporary view.
While this worked previous, the integration is improved and now performs as well as the temporary view usage pattern.
For example, SparkSQL users can just run <code class="highlighter-rouge">spark.sql('SELECT * FROM okera_sample.users')</code>.</p>
  </li>
  <li>
    <p>Hive: Improvements to handling of partitioned tables to improve planning performance.
Queries that scan a few partitions in a dataset with many partitions should see significant improvements.</p>
  </li>
  <li>
    <p>Deprecating single-tenant install support. While it is still supported in this release,
the single-tenant EMR integration is being deprecated. Instead it is recommended to use
the multi-tenant install but only bootstrap a single (typically hadoop) user. Improvements
were made to the user bootstrapping and setup scripts. See the [emr docs][emr-integration].</p>
  </li>
  <li>
    <p>EMR support extended to include 5.1 and 5.2.</p>
  </li>
</ul>

<h3 id="miscellaneous">Miscellaneous</h3>

<ul>
  <li>
    <p>Added support for <code class="highlighter-rouge">BINARY</code> and <code class="highlighter-rouge">REAL</code> data types. See the data types <a href="data-types">docs</a>.</p>
  </li>
  <li>
    <p>Support for registering bucketed tables and views using lateral views. Note that since
ODAS does not support these, the user must have all access on these tables and views
and direct access to these files in the file system.</p>
  </li>
  <li>
    <p>Extended ODAS SQL to add <code class="highlighter-rouge">DROP_TABLE_OR_VIEW</code>. See <a href="supported-sql">supported-sql</a> for more details.</p>
  </li>
  <li>
    <p>Audit logs now include the Okera client version as part of the application field. For example,
instead of <code class="highlighter-rouge">presto</code>, new clients will identity as <code class="highlighter-rouge">presto (1.0.0)</code>.
Note that this is the version of the Okera client, not the version of presto.</p>
  </li>
</ul>

<h3 id="incompatible-and-breaking-changes-2">Incompatible and Breaking Changes</h3>

<p><strong>REST server default timeout increased to 60 seconds from 30</strong></p>

<p>This is mostly to accommodate long DDL commands, such as <code class="highlighter-rouge">alter table recover partitions</code>.</p>

<p><strong>New log filename format</strong></p>

<p>The log files that are uploaded to S3 have a new naming scheme.
The old naming scheme was <code class="highlighter-rouge">&lt;service&gt;-&lt;pid&gt;-&lt;id&gt;-&lt;timestamp&gt;-&lt;guid&gt;.log</code>.
The new naming scheme is: <code class="highlighter-rouge">&lt;timestamp&gt;-&lt;service&gt;-&lt;ip&gt;-&lt;id&gt;-&lt;guid&gt;.log</code>.</p>

<p>This makes it more efficient to find logs from a given time window.</p>

<p><strong>ODAS REST Service returns decimal data as string, instead of double</strong></p>

<p>Decimal data is converted to string, when data is accessed via the REST APIs.
The json result set now returns the decimal values as string to prevent any precision loss.
Client can now control the rounding behavior in the application and cast the type as needed.</p>

<p><strong>Deployment Manager now requires java 8</strong></p>

<h3 id="known-issues-2">Known issues</h3>

<p><strong>Using AWS autoscaling groups</strong></p>

<p>If an ODAS cluster is created using a clusterLaunchScript, it will instantiate an
autoscaling group of the specified size in AWS. Scaling an ODAS cluster that is running on
an ASG is not supported in 1.0.0. Specifically, scaling down is known to have issues.
This will be remedied in the next release.</p>

<h2><a href="earlier-release-notes">Earlier Releases</a></h2>
<p>Release notes for 0.9.0 (april 2018) or earlier.</p>


    <div class="tags">
        
    </div>




</div>



<footer>
  <div class="row">
    <div class="col-lg-12 footer">
      <div class="footer-meta">
        &copy;2018 Okera, Inc. All rights reserved.  Site last generated: Nov 5, 2018
      </div>
    </div>
  </div>
</footer>

        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

</html>
