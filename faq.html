<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Frequently Asked Questions about the Okera Platform | Okera User Documentation</title>
<link rel="stylesheet" href="theme/css/syntax.css">
<link rel="icon" type="image/png" href="/assets/images/icon-favicon32.png">

<script src="https://use.fontawesome.com/d9343c4626.js"></script>

<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="theme/css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch-theme-algolia.min.css">
<link rel="stylesheet" href="theme/css/asciidoctor.css">
<link rel="stylesheet" href="theme/css/custom.css">
<link rel="stylesheet" href="theme/css/boxshadowproperties.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="theme/js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="theme/js/toc.js"></script>
<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.6.0/dist/instantsearch.min.js"></script>
<script src="theme/js/customscripts.js"></script>

<script>
$( document ).ready(function() {
  $( "blockquote:contains('Note')" ).addClass( "admonitionblock note" );
  $( "blockquote:contains('Warning')" ).addClass( "admonitionblock warning" );
  $( "blockquote:contains('Tip')" ).addClass( "admonitionblock tip" );
  $( ".admonitionblock.note" ).prepend( '<i class="fa fa-check admonition"></i>' );
  $( ".admonitionblock.warning" ).prepend( '<i class="fa fa-exclamation-triangle admonition"></i>' );
  $( ".admonitionblock.tip" ).prepend( '<i class="fa fa-lightbulb-o admonition"></i>' );
});
</script>

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>


</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <div class="navbar-wordmark"><a href="/">
              <img src="assets/images/okera-wordmark-white.png" alt="Okera wordmark" /></a>
            </div>

        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <!-- <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li> -->
                <!-- entries without drop-downs appear here -->







                <li><a href="search">Search</a></li>



                <li><a href="https://www.okera.com/blog/" target="_blank">Okera Blog</a></li>



                <li><a href="https://okera.com" target="_blank">okera.com</a></li>



                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->


                <!-- comment out this block if you want to hide search
                <li class="dropdown">

                  <div id="search-demo-container">
                      <form action="/search" method="GET">
                      <input type="text" name="q" id="search-input" placeholder="Search the docs...">
                      </form>
                  </div>

                </li>
                end search -->
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">


            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">



<ul id="mysidebar" class="nav affix">
  <li class="sidebarTitle"> </li>



  <li>
      <a href="#">Discover</a>
      <ul>



          <li><a href="product-overview">Product Overview</a> </li>






          <li><a href="odas-overview">Okera Data Access Service Overview</a> </li>






          <li><a href="catalog-overview">Okera Catalog Overview</a> </li>






          <li><a href="okera-architecture-overview">Platform Architecture Overview</a> </li>




      </ul>
   </li>



  <li>
      <a href="#">Install</a>
      <ul>



          <li><a href="getting-started">Getting Started</a> </li>






          <li><a href="install">Installation Guide</a> </li>






          <li><a href="advanced-install">Advanced Installation Option</a> </li>






          <li><a href="kerberos-cluster-setup">Kerberos</a> </li>






          <li><a href="secure-okera-rest-api-ldap">LDAP Authentication</a> </li>






          <li><a href="secure-okera-rest-api-oauth">OAuth Authentication</a> </li>






          <li><a href="cluster-types">Cluster Types</a> </li>






          <li><a href="cluster-sizing">Cluster Sizing</a> </li>






          <li><a href="memory-usage">Platform Memory Usage</a> </li>






          <li><a href="secure-deployment-manager-rest-api">Deployment Manager REST Security</a> </li>




      </ul>
   </li>



  <li>
      <a href="#">Engage</a>
      <ul>



          <li><a href="web-ui-basics">Okera Portal Basics</a> </li>




      </ul>
   </li>



  <li>
      <a href="#">Administer</a>
      <ul>



          <li><a href="cluster-administration">Cluster Administration</a> </li>






          <li><a href="web-ui-admin">Okera Portal for Admins</a> </li>






          <li><a href="schema-design">Schema Design</a> </li>






          <li><a href="authorization">Authorization</a> </li>






          <li><a href="auditing">Auditing</a> </li>






          <li><a href="okera-database-cli">Database CLI</a> </li>






          <li><a href="ip-address-management">IP Address Management</a> </li>






          <li><a href="kubernetes-dashboard-quickstart">Cluster Monitoring with Kubernetes Addons</a> </li>






          <li><a href="cluster-launch-plugin-api">Cluster Launch API</a> </li>




      </ul>
   </li>



  <li>
      <a href="#">Integrate</a>
      <ul>



          <li><a href="emr-integration">EMR Integration</a> </li>






          <li><a href="pycerebro">Native Python Integration</a> </li>






          <li><a href="client-integration">Client Integration</a> </li>






          <li><a href="planner-integration">Planner Integration</a> </li>






          <li><a href="odas-cdh-integration">CDH Integration</a> </li>






          <li><a href="tableau-web-data-connector">Tableau Integration</a> </li>






          <li><a href="service-port-assignments">Service Ports</a> </li>




      </ul>
   </li>



  <li>
      <a href="#">Develop</a>
      <ul>



          <li><a href="supported-sql">Supported SQL</a> </li>






          <li><a href="odas-authentication">Authentication</a> </li>






          <li><a href="catalog-rest-api">REST API</a> </li>






          <li><a href="client-configs">Client Configuration</a> </li>






          <li><a href="complex-types">Complex Data Types</a> </li>






          <li><a href="data-types">Supported Data Types</a> </li>






          <li><a href="extending-odas">Extending ODAS</a> </li>




      </ul>
   </li>



  <li>
      <a href="#">Reference</a>
      <ul>



          <li><a href="release-notes">Release Notes</a> </li>






          <li><a href="quick-recipes">Quick Recipes</a> </li>






          <li class="active"><a href="faq">Frequently Asked Questions</a></li>




      </ul>
   </li>



      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->

    <li>

<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2', title: 'On This Page' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})

});
</script>

<div id="toc"></div>

    </li>


</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>



        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">


<div class="post-content">








  <h1 id="frequently-asked-questions-about-the-okera-platform">Frequently Asked Questions about the Okera Platform</h1>

<!-- TOC depthFrom:1 depthTo:6 withLinks:1 updateOnSave:0 orderedList:0 -->
<!-- TOC Automatically generated by markdown-toc Atom plugin -->
<ul>
  <li><a href="#basic-product-questions">Basic Product Questions</a>
    <ul>
      <li><a href="#what-is-okera">What is Okera?</a></li>
      <li><a href="#why-do-i-need-okera">Why do I need Okera?</a></li>
      <li><a href="#is-okera-a-database">Is Okera a database?</a></li>
      <li><a href="#where-does-okera-fit-in-my-infrastructure-stack">Where does Okera fit in my infrastructure stack?</a></li>
      <li><a href="#does-okera-colocate-with-my-existing-hadoop-clusters">Does Okera colocate with my existing Hadoop clusters?</a></li>
      <li><a href="#how-does-okera-impact-performance">How does Okera impact performance?</a></li>
      <li><a href="#do-i-still-need-to-prep-the-data-if-i-have-okera">Do I still need to prep the data if I have Okera?</a></li>
      <li><a href="#do-i-still-need-a-data-catalog-if-i-have-okera">Do I still need a data catalog if I have Okera?</a></li>
      <li><a href="#once-set-up-will-all-data-access-be-through-okera">Once set up, will all data access be through Okera?</a></li>
      <li><a href="#how-do-i-get-support">How do I get support?</a></li>
      <li><a href="#how-does-okera-handle-identity-management-and-authentication">How does Okera handle identity management and authentication?</a></li>
    </ul>
  </li>
  <li><a href="#technology-questions">Technology Questions</a>
    <ul>
      <li><a href="#what-data-formats-does-okera-support">What data formats does Okera support?</a></li>
      <li><a href="#does-cerero-support-any-user-defined-functions-udfs">Does Okera support any user-defined functions (UDFs)?</a></li>
      <li><a href="#does-okera-use-yarn">Does Okera use YARN?</a></li>
      <li><a href="#how-does-okera-route-front-end-requests">How does Okera route front-end requests?</a></li>
      <li><a href="#how-does-okera-solve-the-small-files-problem">How does Okera solve the small-files problem?</a></li>
      <li><a href="#can-okera-catalog-span-multiple-data-centers">Can Okera Catalog span multiple data centers?</a></li>
      <li><a href="#does-okera-support-any-type-of-data-indexing">Does Okera support any type of data indexing?</a></li>
      <li><a href="#does-okera-guarantee-backward-compatibility-with-amazon-emr">Does Okera guarantee backward compatibility with Amazon EMR?</a></li>
    </ul>
  </li>
  <li><a href="#usage-questions">Usage Questions</a>
    <ul>
      <li><a href="#are-there-differences-between-msck-repair-table-in-hive-vs-alter-table-recover-partitions-in-odas">Are there differences between MSCK REPAIR TABLE in Hive vs ALTER TABLE RECOVER PARTITIONS in ODAS?</a></li>
      <li><a href="#what-exactly-is-granting-all-on-a-uri-needed-for">What exactly is granting ALL on a URI needed for?</a></li>
    </ul>
  </li>
</ul>

<!-- /TOC -->

<h2 id="basic-product-questions">Basic Product Questions</h2>

<h3 id="what-is-okera">What is Okera?</h3>

<p>Okera solves the complex issue of managing and controlling access to many big data datasources.
It transparently integrates into Hadoop, S3, EMR, and Spark (and many more architectures!) to provide a unified metadata catalog and access control policy store.
Data access, as well as policy access and enforcement, are managed by Okera services.</p>

<p>Like massively parallel processing (MPP) databases, Okera is always available, taking on requests from a growing set of data processing systems, such as Spark, Python, Presto, Impala, and Hive, with no delay and no additional overhead.
Its scalability and high availability features make Okera the ideal backend for all access to data in many of the common storage systems, like S3, HDFS, and Kafka.
Such storage tools often only provide coarse-grained security controls.
With Okera, all access to data is vetted against the central access control policies and logged for auditing.
Because of Okera’s optimized access to data using state-of-the-art technologies, queries are accelerated and can take further advantage of acceleration mechanisms provided by Okera.</p>

<p>Through the integration with industry-standard security mechanisms such as Kerberos authentication protocol and Microsoft Active Directory servers, access to data is authenticated against the existing company-wide user management systems.</p>

<p>All of this ensures that Okera is not introducing any additional complexity, but rather simplifies your life and makes access to data a reliable, secure, and transparent experience.</p>

<p>For more, see <a href="product-overview">Okera Platform Overview</a>.</p>

<h3 id="why-do-i-need-okera">Why do I need Okera?</h3>

<p>We live in a time when technology and data are exploding exponentially, making their integration more and more complicated.
At the same time, users are asking for easier access to both, in an attempt to focus on business problems, without having to learn yet another interface.
On top of that, providing secure access to the data is not trivial and certainly not easy; each technology has its own way of securing data, and where that mechanism is delegated to a shared service, it may only offer only coarse-grained access.</p>

<p>This is where Okera comes in: combining disjointed APIs into one unified system that offers a central schema catalog, access policy store, and shared data access layer.
Using Okera, all metadata and data access is simplified, as the unnecessary need to add access policies to many systems is removed.
Fine-grained control over data down to the object, row, and a column, enables users to access what they need seamlessly.
In addition, Okera has the ability to speed up common access patterns and thereby increase the effectiveness of applications, increasing the return on investment.</p>

<h3 id="is-okera-a-database">Is Okera a database?</h3>

<p>Okera manages data access and governance, not storage, per se.
Yet as a matter of course, the platform does provide much of the functionality you may expect from conventional databases but is not found in Big Data infrastructure.
Okera maintains a schema registry that maps datasources, objects, and fields similarly to some features of relational database management systems (RDBMSes).
See <a href="catalog-overview">Okera Catalog Overview</a> for more.</p>

<h3 id="where-does-okera-fit-in-my-infrastructure-stack">Where does Okera fit in my infrastructure stack?</h3>

<p>Okera provides access to underlying data sources.
It offers functionality for end-user query access to data using various applications (business intelligence tools) or programmatically (such as by Apache Spark or Python scripts).</p>

<p>Typically the provisioning of data to the underlying data stores (for example, S3 or HDFS) is carried out by common ingest pipelines, which have full and direct access to the data sources and write access to the storage infrastructure.
That is, you ingest, organize, and store your data how you see fit.</p>

<p>An instance of the Okera platform takes the form of a host cluster that has access to your data sources.
All your key applications have access to your data over <a href="odas-overview">ODAS</a>, according to schemas and rules you impose using <a href="catalog-overview">Okera Catalog</a>.</p>

<p>See <a href="odas-overview">Okera Data Access Service Overview</a> for more.</p>

<h3 id="does-okera-colocate-with-my-existing-hadoop-clusters">Does Okera colocate with my existing Hadoop clusters?</h3>

<p>Okera can be installed collocated with your current Hadoop infrastructure or separately.
Both models are fully supported.
Which model you pick depends on your environment and needs.</p>

<ul>
  <li>
    <p>If you’re deploying in the data center where all services are collocated on a set of physical machines, Okera can be deployed on the cluster, collocated with the other services.</p>
  </li>
  <li>
    <p>If you’re deploying in the cloud and have different kinds of access frameworks (Spark, Presto, Python) accessing data via Okera but not necessarily all collocated on the same machines, Okera can be deployed standalone as an independent service.</p>
  </li>
  <li>
    <p>With Amazon’s Elastic MapReduce (EMR), you can deploy Okera collocated with the EMR nodes.</p>
  </li>
</ul>

<h3 id="how-does-okera-impact-performance">How does Okera impact performance?</h3>

<p>Okera has been designed with performance in mind.</p>

<ul>
  <li>The I/O and data path are tuned to be highly efficient.</li>
  <li>Clusters have been proven to scale to 800+ nodes.</li>
</ul>

<p>Okera deployment supports federation (deploying multiple clusters with hundreds of nodes).
In many workloads, using the most-popular Hadoop analytic frameworks (Spark, MapReduce), performance often improves between 10-20% due to the data path efficiency.
One way to think about this is that the MapReduce/Java application offloads the initial processing to Okera, including I/O, file parsing, decompression, and filtering.</p>

<h3 id="do-i-still-need-to-prep-the-data-if-i-have-okera">Do I still need to prep the data if I have Okera?</h3>

<p>Yes.
Data prep involves modeling the data to suit your business and transforming data needed in the process of ingesting and storing it.
Once modeled, data can be published with Okera.
Okera thereafter provides self-service access to your business users, analysts, and scientists, all using their favorite utilities, apps, scripting languages like Python and R.</p>

<h3 id="do-i-still-need-a-data-catalog-if-i-have-okera">Do I still need a data catalog if I have Okera?</h3>

<p>Okera provides you a Catalog for what we call “technical metadata”.
This is the information required to access the data sets: schemas, location, access policies.
For some users, this is sufficient.
For others, we’ve seen them build a catalog that is designed to more specifically model their business objects.
In this case, the system would work with the Okera Catalog.
Okera Catalog could contain the lower-level information, but the catalog would contain higher-level information associated with specific business processes.</p>

<p>To be explicit, customers that are used to running Hive Metastore or Sentry Store do not need to do so anymore.</p>

<h3 id="once-set-up-will-all-data-access-be-through-okera">Once set up, will all data access be through Okera?</h3>

<p>There is no strict requirement to have Okera manage all data access.
The platform can be configured such that certain users can go directly to the raw data.
Anything that accesses raw files directly will be unable to leverage the security and governance functionality the Okera platform provides.</p>

<h3 id="how-does-okera-handle-identity-management-and-authentication">How does Okera handle identity management and authentication?</h3>

<p>Okera honors user groups established integrated by Unix systems and Active Directory.
When users supply authentication credentials the Okera platform, their existing authorizations are applied, permitting them access only to the datasets, objects, and columns indicated by their group assignments.</p>

<h3 id="how-do-i-get-support">How do I get support?</h3>

<p>Okera Customer Success engineers provide excellent enterprise support services under the terms of our license.
To become a valued Okera customer, <a href="http://okera.com">get in touch</a>.
We do not guarantee support to non-customers, but we <a href="http://okera.com/contact">welcome support inquiries</a>.</p>

<p>If you are already an Okera customer, you or a representative at your organization should have a <a href="http://support.okera.com/hc/en-us">ZenDesk support login</a>.</p>

<h2 id="technology-questions">Technology Questions</h2>

<h3 id="what-data-and-file-formats-does-okera-support">What data and file formats does Okera support?</h3>

<p>File formats are distinguished by two types of format:</p>

<ul>
  <li>The enclosing container format of the file.</li>
  <li>The record serialization format within the file.</li>
</ul>

<p>For example, you can have a text based file that contains <em>comma-separated values</em> (CSV), or JSON objects.
Or you could have a binary file in Hadoop SequenceFile container format, containing records serialized using Thrift.</p>

<p>Okera support pluggable serialization formats for some of the container formats.
For example, for text-based files you can extend Okera using the common <a href="extending-odas#serdes">Hive SerDe</a> functionality.</p>

<p>The following table lists the supported file formats and their features:</p>

<table>
  <thead>
    <tr>
      <th>Container</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: center">Boundaries</th>
      <th>Serialization</th>
      <th style="text-align: center">Extensible</th>
      <th style="text-align: center">Supported</th>
      <th style="text-align: center">Compressible</th>
      <th style="text-align: center">Splittable</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Text</td>
      <td style="text-align: center">Text</td>
      <td style="text-align: center">Lines</td>
      <td>Text, CSV, TSV, JSON, RegEx</td>
      <td style="text-align: center">Yes (Hive SerDes)</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">External</td>
      <td style="text-align: center">Yes (uncompressed only)</td>
    </tr>
    <tr>
      <td>Parquet</td>
      <td style="text-align: center">Binary</td>
      <td style="text-align: center">Blocks</td>
      <td>Columnar</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">Yes (Block)</td>
      <td style="text-align: center">Yes (Block)</td>
    </tr>
    <tr>
      <td>SequenceFile</td>
      <td style="text-align: center">Binary</td>
      <td style="text-align: center">Blocks</td>
      <td>Key/Value Pairs</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">Limited (<code class="highlighter-rouge">Text</code> values only)</td>
      <td style="text-align: center">Yes (Block and Record)</td>
      <td style="text-align: center">Yes (Block)</td>
    </tr>
    <tr>
      <td>RCFile</td>
      <td style="text-align: center">Binary</td>
      <td style="text-align: center">Blocks</td>
      <td>Columnar</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">Yes (Block)</td>
      <td style="text-align: center">Yes (Block)</td>
    </tr>
    <tr>
      <td>Avro</td>
      <td style="text-align: center">Binary</td>
      <td style="text-align: center">Blocks</td>
      <td>Row (Record)</td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">Yes (Block)</td>
      <td style="text-align: center">Yes (Block)</td>
    </tr>
  </tbody>
</table>

<p>Notes:</p>
<ul>
  <li>SequenceFiles store each row as a key/value pair.
    <ul>
      <li>The <em>key</em> type and its value is ignored.</li>
      <li>The <em>value</em> type <strong>must</strong> be set to the Hadoop <code class="highlighter-rouge">Text</code> class.</li>
      <li>The content of the value field is treated as text.</li>
      <li>Supported serialization formats are text, CSV, and TSV.</li>
    </ul>
  </li>
  <li>Optimized RCFiles (ORC) are not supported at all.</li>
</ul>

<h3 id="does-okera-support-any-user-defined-functions-udfs">Does Okera support any user-defined functions (UDFs)?</h3>

<p>Okera supports <a href="https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF">Hive’s UDFs</a>.</p>

<h3 id="does-okera-use-yarn">Does Okera use YARN?</h3>

<p>Okera does not use YARN.
The Okera components are deployed on dedicated servers using Docker containers and use Kubernetes under the hood to manage the distributed system deployment.</p>

<h3 id="how-does-okera-route-front-end-requests">How does Okera route front-end requests?</h3>

<p>For traffic routing, all <em>non</em>-worker services run behind a load balancer.
This means you can call the REST server, planner, or catalog via any hostname or IP on the cluster and the request will get routed to the right place.</p>

<p>To enable Okera to carefully control the load and efficiency on the data path, the worker services are not load balanced.
This is why, for example, you can use the REST server CNAME for the planner.
The CNAME resolves to an IP on the cluster, and then gets routed through Okera as necessary.</p>

<h3 id="how-does-okera-solve-the-small-files-problem">How does Okera solve the small-files problem?</h3>

<p>There are a few problems with small files, both from the storage side and the compute side.
For storage, small files lead to more metadata overhead gumming up the works.
This is particularly problematic for HDFS NameNode.
For most Hadoop compute frameworks, small files can cause the computation to be much slower due to the high per file/per task overhead.</p>

<p>For compute, ODAS will combine small files automatically which often provides significant performance benefits. Okera does not currently manage writing files so does not directly help with the issue on the storage side. For non-HDFS storage managers, this may not be an issue at all. Users will want to do background compaction/ETL to combine small files. Okera does help with this illicitly by decoupling applications reading the data from the storage (i.e. file path details).</p>

<h3 id="can-okera-catalog-span-multiple-data-centers">Can Okera Catalog span multiple data centers?</h3>

<p>The Catalog itself cannot span multiple data centers.
The data backing is stored in MySQL (or Aurora on AWS), and we recommend replication of the backing DB.
The contents in the Catalog can span multiple clusters (For example, datasets that are from different data centers).</p>

<h3 id="does-okera-support-any-type-of-data-indexing">Does Okera support any type of data indexing?</h3>

<p>There are no plans to support indices in the short or medium term.
Some of the use cases indexing enables can be solved using good partitioning schemes and enabling certain features when writing parquet.</p>

<h3 id="does-okera-guarantee-backward-compatibility-with-amazon-emr">Does Okera guarantee backward compatibility with Amazon EMR?</h3>

<p>New versions of ODAS will maintain compatibility with EMR client jars.
Functionality introduced in newer versions of ODAS may not work with old EMR client jars, but none of the existing functionality will break as a result of a ODAS upgrade.</p>

<h2 id="usage-questions">Usage Questions</h2>

<h3 id="are-there-differences-between-msck-repair-table-in-hive-vs-alter-table-recover-partitions-in-odas">Are there differences between MSCK REPAIR TABLE in Hive vs ALTER TABLE RECOVER PARTITIONS in ODAS?</h3>

<p><code class="highlighter-rouge">ALTER TABLE RECOVER PARTITIONS</code> is effectively an alias for <code class="highlighter-rouge">MSCK REPAIR TABLE</code>.
The primary difference in usability is that <code class="highlighter-rouge">ALTER TABLE RECOVER PARTITIONS</code> works from Okera’s database CLI utility (odb) or through the REST API.
The <code class="highlighter-rouge">MSCK REPAIR TABLE</code> command must be run directly from Hive.
Hive then translates the <code class="highlighter-rouge">MSCK</code> call to <code class="highlighter-rouge">ALTER TABLE RECOVER PARTITIONS</code> and distributes it to the planner as a call to each partition.
The overhead of this translation and distribution results in slower performance from Hive vs. natively through ODAS.</p>

<h3 id="what-exactly-is-granting-all-on-a-uri-needed-for">What exactly is granting ALL on a URI needed for?</h3>

<p>Additional related questions are:</p>

<ul>
  <li>Is it only needed when creating tables?</li>
  <li>Does a user need permissions on a URI to add partitions or not?</li>
</ul>

<p>Consider a common scenario where users are allowed to add partitions to an existing table, but otherwise only have read access (that is, the <code class="highlighter-rouge">SELECT</code> privilege) to the same.
There are two variations of the SQL command adding new partitions:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">db</span><span class="p">.</span><span class="n">tb</span> <span class="k">ADD</span> <span class="n">PARTITION</span> <span class="p">(</span><span class="n">part</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>
<span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">db</span><span class="p">.</span><span class="n">tb</span> <span class="k">ADD</span> <span class="n">PARTITION</span> <span class="p">(</span><span class="n">part</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="k">LOCATION</span> <span class="s1">'s3://....'</span><span class="p">;</span>
</code></pre></div></div>

<p>The general rule is this: The URI is checked anytime it is <em>explicitly</em> used in the DDL command, typically with the <code class="highlighter-rouge">LOCATION</code> keyword in the query.
This happens most commonly in <code class="highlighter-rouge">CREATE EXTERNAL TABLE .. LOCATION 's3://...'</code>, but also for registering UDFs, or <code class="highlighter-rouge">ALTER TABLE</code>, <code class="highlighter-rouge">ADD PARTITION</code>, and so on.
The creator must have URI access to that path (or a prefix thereof).
This is useful, for example, if you want the user to only be able to create tables over their bucket in S3.</p>

<p>This is not applicable if only admins create tables.
Since they are admins, they are allowed to reference all locations in the DDL statements (and therefore are only subjected to the access rights of our servers).
In other words, there is no reason to grant permissions on URIs if the admin creates all the tables.</p>

<p>Regarding the two examples given, the URI permissions are checked on the second statement only.
For the first statement the path is derived implicitly from the table’s base table path and not checked again.</p>

<p>More on this topic can be found in the <a href="authorization">Authorization</a> documentation.</p>


    <div class="tags">

    </div>




</div>



<footer>
            <div class="row">
                <div class="col-lg-12 footer">
                  <img src="assets/images/icon-footer.png" class="logo" />
                  <div class="footer-meta">
               &copy;2018 Okera, Inc. All rights reserved. <br />
 Site last generated: May 18, 2018
                  </div>
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

</html>
